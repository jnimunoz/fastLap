<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:replace="fragments/base :: base('Corredores', ~{::section})">
<section class="grid two">
    <div class="card">
        <h2>Registrar corredor</h2>
        <p class="muted">Ingresa los datos del nuevo corredor para habilitarlo en las carreras de práctica.</p>
        <form th:action="@{/runners}" th:object="${runnerForm}" method="post" class="grid">
            <div class="form-group">
                <label for="firstName">Nombre</label>
                <input id="firstName" type="text" th:field="*{firstName}" placeholder="Ej. Laura">
                <div class="field-error" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></div>
            </div>
            <div class="form-group">
                <label for="lastName">Apellido</label>
                <input id="lastName" type="text" th:field="*{lastName}" placeholder="Ej. Rodríguez">
                <div class="field-error" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></div>
            </div>
            <div class="form-group">
                <label for="nickname">Apodo</label>
                <input id="nickname" type="text" th:field="*{nickname}" placeholder="Nombre corto para identificarlo">
                <div class="field-error" th:if="${#fields.hasErrors('nickname')}" th:errors="*{nickname}"></div>
            </div>
            <div class="form-group">
                <label for="email">Correo electrónico</label>
                <input id="email" type="email" th:field="*{email}" placeholder="Opcional">
                <div class="field-error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
            </div>
            <div>
                <button class="button" type="submit">Registrar corredor</button>
            </div>
        </form>
    </div>
    <div class="card">
        <h2>Corredores registrados</h2>
        <div th:if="${#lists.isEmpty(runners)}" class="muted">Aún no hay corredores registrados.</div>
        <div class="runner-grid" th:if="${!#lists.isEmpty(runners)}">
            <div class="runner-card" th:each="runner : ${runners}">
                <div class="name">
                    <span th:text="${runner.firstName()}"></span>
                    <span th:text="${runner.lastName()}"></span>
                </div>
                <div class="nickname">Apodo: <span th:text="${runner.nickname()}"></span></div>
                <div class="muted" th:text="${runner.email() != null ? runner.email() : 'Sin correo registrado'}"></div>
                <div class="muted" th:text="${'Registro: ' + #temporals.format(runner.createdAt(), 'dd MMM yyyy HH:mm')}"></div>
            </div>
        </div>
    </div>
</section>
</html>
